{% load static i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% trans "Green Campus Initiative" %}{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <div class="container">
        <!-- Animated gradient background -->
        <div class="gradient-orb" id="gradientOrb"></div>
        <div class="gradient-orb-2"></div>
        <div class="grid-pattern"></div>

        <!-- Floating elements -->
        <div class="floating-elements">
            <div class="floating-shape" style="left: 15%; top: 20%; animation-delay: 0s; width: 40px; height: 40px;"></div>
            <div class="floating-shape" style="left: 30%; top: 45%; animation-delay: 0.5s; width: 50px; height: 50px;"></div>
            <div class="floating-shape" style="left: 45%; top: 20%; animation-delay: 1s; width: 60px; height: 60px;"></div>
            <div class="floating-shape" style="left: 60%; top: 45%; animation-delay: 1.5s; width: 70px; height: 70px;"></div>
            <div class="floating-shape" style="left: 75%; top: 20%; animation-delay: 2s; width: 80px; height: 80px;"></div>
            <div class="floating-shape" style="left: 90%; top: 45%; animation-delay: 2.5s; width: 90px; height: 90px;"></div>
        </div>

        <!-- Navigation -->
        <nav class="nav" id="nav">
            <div class="nav-content">
                <div class="logo">
                    <div class="logo-icon-wrap">
                        <img src="{% static 'img/logo.jpg' %}" alt="Green Campus Logo" class="logo-img">
                    </div>
                    <span class="logo-text">Green Campus</span>
                </div>
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
                <div class="nav-links" id="navLinks">
                    <a href="{% url 'core:home' %}" class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}">{% trans "Home" %}</a>
                    <a href="{% url 'core:about' %}" class="nav-link {% if request.resolver_match.url_name == 'about' %}active{% endif %}">{% trans "About" %}</a>
                    <a href="{% url 'programs:list' %}" class="nav-link {% if 'programs' in request.resolver_match.namespace %}active{% endif %}">{% trans "Programs" %}</a>
                    <a href="{% url 'news:list' %}" class="nav-link {% if 'news' in request.resolver_match.namespace %}active{% endif %}">{% trans "News" %}</a>
                    <a href="{% url 'events:list' %}" class="nav-link {% if 'events' in request.resolver_match.namespace %}active{% endif %}">{% trans "Events" %}</a>
                    <a href="{% url 'gallery:list' %}" class="nav-link {% if 'gallery' in request.resolver_match.namespace %}active{% endif %}">{% trans "Gallery" %}</a>
                    <a href="{% url 'team:list' %}" class="nav-link {% if 'team' in request.resolver_match.namespace %}active{% endif %}">{% trans "Team" %}</a>
                    <a href="{% url 'contact:contact' %}" class="nav-link {% if 'contact' in request.resolver_match.namespace %}active{% endif %}">{% trans "Contact" %}</a>

                    <!-- Language Selector -->
                    <div class="lang-selector">
                        <button class="lang-btn" id="langBtn" type="button">
                            <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                                <path d="M2 12h20"/>
                            </svg>
                            <span class="lang-btn-text">
                                {% get_current_language as LANGUAGE_CODE %}
                                {% if LANGUAGE_CODE == 'uz' %}UZ{% elif LANGUAGE_CODE == 'ru' %}RU{% else %}EN{% endif %}
                            </span>
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="m6 9 6 6 6-6"/>
                            </svg>
                        </button>
                        <div class="lang-dropdown" id="langDropdown">
                            {% get_current_language as LANGUAGE_CODE %}
                            {% get_available_languages as LANGUAGES %}
                            {% get_language_info_list for LANGUAGES as languages %}
                            {% for language in languages %}
                            <form action="{% url 'set_language' %}" method="post" class="lang-form">
                                {% csrf_token %}
                                <input type="hidden" name="language" value="{{ language.code }}">
                                <input type="hidden" name="next" value="{{ request.get_full_path }}">
                                <button type="submit" class="lang-option {% if language.code == LANGUAGE_CODE %}active{% endif %}">
                                    <span class="lang-flag">
                                        {% if language.code == 'en' %}ðŸ‡¬ðŸ‡§{% elif language.code == 'uz' %}ðŸ‡ºðŸ‡¿{% elif language.code == 'ru' %}ðŸ‡·ðŸ‡º{% endif %}
                                    </span>
                                    <span>{{ language.name_local|capfirst }}</span>
                                    <svg class="icon check-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#84cc16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"/>
                                    </svg>
                                </button>
                            </form>
                            {% endfor %}
                        </div>
                    </div>

                    <button class="join-btn">
                        <span>{% trans "Join Us" %}</span>
                        <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"/>
                            <path d="m12 5 7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        {% block content %}
        {% endblock %}

        <!-- Footer -->
        <footer class="footer" id="contacts">
            <div class="footer-content">
                <div class="footer-main">
                    <div class="footer-brand">
                        <div class="footer-logo">
                            <div class="logo-icon-wrap">
                                <img src="{% static 'img/logo.jpg' %}" alt="Green Campus Logo" class="logo-img">
                            </div>
                            <span class="footer-logo-text">Green Campus</span>
                        </div>
                        <p class="footer-desc">{% trans "Creating environmentally sustainable campuses for the education of the future" %}</p>
                        <div class="footer-socials">
                            <a href="https://facebook.com/greencampus" class="footer-social-icon" target="_blank" rel="noopener noreferrer">
                                <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#84cc16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                </svg>
                            </a>
                            <a href="https://instagram.com/greencampus" class="footer-social-icon" target="_blank" rel="noopener noreferrer">
                                <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#84cc16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect width="20" height="20" x="2" y="2" rx="5" ry="5"/>
                                    <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
                                    <line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/>
                                </svg>
                            </a>
                            <a href="https://twitter.com/greencampus" class="footer-social-icon" target="_blank" rel="noopener noreferrer">
                                <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#84cc16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"/>
                                </svg>
                            </a>
                            <a href="https://youtube.com/@greencampus" class="footer-social-icon" target="_blank" rel="noopener noreferrer">
                                <svg class="icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#84cc16" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/>
                                    <path d="m10 15 5-3-5-3z"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                    <div class="footer-links">
                        <div class="footer-column">
                            <h4 class="footer-col-title">{% trans "Navigation" %}</h4>
                            <a href="{% url 'core:about' %}" class="footer-link">{% trans "About" %}</a>
                            <a href="{% url 'programs:list' %}" class="footer-link">{% trans "Programs" %}</a>
                            <a href="{% url 'news:list' %}" class="footer-link">{% trans "News" %}</a>
                            <a href="{% url 'events:list' %}" class="footer-link">{% trans "Events" %}</a>
                        </div>
                        <div class="footer-column">
                            <h4 class="footer-col-title">{% trans "Resources" %}</h4>
                            <a href="#materials" class="footer-link">{% trans "Methodological Materials" %}</a>
                            <a href="#research" class="footer-link">{% trans "Research" %}</a>
                            <a href="#faq" class="footer-link">{% trans "FAQ" %}</a>
                            <a href="#media" class="footer-link">{% trans "For Media" %}</a>
                        </div>
                        <div class="footer-column">
                            <h4 class="footer-col-title">{% trans "Contact" %}</h4>
                            <p class="footer-contact">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect width="20" height="16" x="2" y="4" rx="2"/>
                                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
                                </svg>
                                info@greencampus.org
                            </p>
                            <p class="footer-contact">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                </svg>
                                +998 71 123-45-67
                            </p>
                            <p class="footer-contact">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
                                    <circle cx="12" cy="10" r="3"/>
                                </svg>
                                {% trans "Tashkent, Uzbekistan" %}
                            </p>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p class="copyright">Â© 2025 Green Campus Initiative. {% trans "All rights reserved." %}</p>
                    <div class="footer-legal">
                        <a href="#privacy" class="legal-link">{% trans "Privacy Policy" %}</a>
                        <a href="#terms" class="legal-link">{% trans "Terms of Use" %}</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="{% static 'js/script.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
